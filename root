{"version":1,"ops":[{"type":1,"author":{"id":"786b5b34c37470ab1b753d1fbc8347f8ebee5b0e"},"timestamp":1551869069,"metadata":{"github-id":"MDU6SXNzdWU0MTc3MzczMDc=","github-url":"https://github.com/rurban/Net-Ping/issues/15","origin":"github"},"title":"Net::Ping fails tests and won't install if IPv6 is disabled on the box","message":"I am currently upgrading a bunch of modules in my Perl installation (Debian stretch, 64 bit, Perl 5.24.1). I opened the CPAN shell (`perl -MCPAN -e shell`) and tried to install Net::Ping (`install Net::Ping`).\n\nDownload and make went well, but the tests failed, presumably due to the following line:\n\n```\nt/501_ping_icmpv6.t .... icmp socket error - Bad file descriptor at t/501_ping_icmpv6.t line 49.\nt/501_ping_icmpv6.t .... Dubious, test returned 9 (wstat 2304, 0x900)\n```\n\nAs a consequence, the module did not get installed. I circumvented the problem by typing `fforce install Net::Ping` in the CPAN shell, but this is not satisfactory because _real_ errors then will not be detected either.\n\nThe source of the error: On this box, IPv6 is disabled (I am doing this regularly on many of our and our clients' machines).\n\nWhile I perfectly understand that the IPv6 tests fail if IPv6 is globally disabled, I think that this should be no reason to refuse installation. It would be very nice if you could change this. And by the way, the problem probably exists the other way around as well (I did not test, though): What happens on a box where IPv4 is disabled and only IPv6 enabled?\n\nThank you very much for your great work, your time and effort!\n\nRegards,\n\nBinarus","files":null}]}